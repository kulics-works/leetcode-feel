FlipAndInvertImage := (a: list (list int) -> v: list (list int)) {
    Reverse := (numbers: list int -> v: list int) {
        !V := list int{}
        numbers.len-1 ... 0 @ i {
            V += 1 - numbers[i]
        }
        <- V
    }

    a @ [i]v {
        a[i] = Reverse(v)
    }
    <- a
}
