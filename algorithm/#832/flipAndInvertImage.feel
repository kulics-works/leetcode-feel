FlipAndInvertImage := (a: [list [list int]] -> v: [list [list int]]) {
    Reverse := (numbers: [list int] -> v: [list int]) {
        !V := [list int]{}
        @ i := numbers.len-1 ... 0 {
            V += 1 - numbers[i]
        }
        <- V
    }

    @ [i]v := a {
        a[i] = Reverse(v)
    }
    <- a
}
